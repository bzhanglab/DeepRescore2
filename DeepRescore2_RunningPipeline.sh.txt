## Input

id_File = "./InputData/combined" // Search engine identifications
ms_Folder = "./InputData/MGF" // MGF files folder
ms_File = "./InputData/01CPTAC_UCEC_P_PNNL_20170922_B1S1.mgf" // Merged MGF file
raw_File = "./InputData/RAW" // RAW file folder
se = "maxquant" // Search engine type. The current version supports four search engines, msgf, xtandem, comet or maxquant.
decoy_prefix = "XXX_"
script_Folder = "sh"
output_Folder = "./OutputData"
tmp_Folder = "./tmp"

# Search engine specific params
if (software == "msgf") {
    rt = 5 // Step 1 parameter
    Step1Script = ${script_Folder}/AddModifedSequence_MSGF.py
} else if (software == "xtandem") {
    rt = 2 // Step 1 parameter
    Step1Script = ${script_Folder}/AddModifedSequence_XTandem.py
} else if (software == "comet") {
    rt = 2 // Step 1 parameter
    Step1Script = ${script_Folder}/AddModifedSequence_Comet.py
} else if (software == "maxquant") {
    rt = 5 // Step 1 parameter
    Step1Script = ${script_Folder}/AddModifedSequence_MaxQuant.py
} else {
    println "Search engine ${software} is not supported!\n"
    helpMessage()
    exit 0
}


## Running scripts

Step 1: Extract features from peptide identifications: sh 1.Features.sh

java -Xmx200g -jar ${script_Folder}/PDV-1.6.1.beta.features-jar-with-dependencies.jar \
        	  -r ${id_File} \
        	  -rt ${rt} \
        	  -s ${ms_File} \
        	  -st 1 \
        	  -i * \
        	  -k s \
        	  -o ${output_Folder} \
        	  -a 0.02 \
        	  -c 0 \
        	  -decoy ${decoy_prefix} \
        	  -ft pdf \
        	  --feature


python ${Step1Script} ${output_Folder}/features.txt ${ms_File} ${output_Folder}/features.txt















